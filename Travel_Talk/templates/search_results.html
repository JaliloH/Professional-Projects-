{% extends "template.html" %}
{% block head %}
    <link id="stylesheet" rel ="stylesheet" type="text/css" href="../static/css/review.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <script>
        // Embedding the search_results_dict into JavaScript
    {% if search_results_dict %}
        var searchResults = {{ search_results_dict | tojson }};
    {% endif %}    
</script>
{% endblock %}

<!-- this is for the header / nav bar -->
{% block title %}Search Results{% endblock %}

{% block navlist %} 
<li class="pure-menu-item"><a href="/" class="pure-menu-link">Explore</a></li>
<li class="pure-menu-item"><a href="/feed" class="pure-menu-link">My Feed</a></li>
<li class="pure-menu-item"><a href="/myReviews" class="pure-menu-link">My Reviews</a></li>
{% endblock %}

{% block body %}
<div id="search_results_grid" class="overflow">
    <div class="content-wrapper"> 
        <div class="content">
            <div class="pure-g"> 
                {% for name, info_list in search_results_dict.items() %}

                    <div class="pure-u-1-4"></div>
                    <div class="pure-u-1-4 is-center">
                        <img src="{{ info_list[0] }}" alt="Image reference" width="300" height="200">
                    </div>
                    <div class="pure-u-1-4 is-center">
                        <button role="link" class="search_results_text" onclick="ClickLocationLink(event)">{{ name }} <br> {{ info_list[1] }}</button>
                    </div>
                    <div class="pure-u-1-4"></div>

                {% endfor %}
            <div>
        </div>
    </div>
</div>

<script>
    (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
        key: "AIzaSyAxVyQIWCItA5uLeG8sk0O0lMZjnA2qReU",
        v: "weekly",
        // Use the 'v' parameter to indicate the version to use (weekly, beta, alpha, etc.).
        // Add other bootstrap parameters as needed, using camel case.
    });
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="static/js/search_results.js"></script>
{% endblock %}



